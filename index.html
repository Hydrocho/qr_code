<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR ì½”ë“œì˜ ì›ë¦¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }

        .qr-grid {
            display: grid;
            grid-template-columns: repeat(21, 1fr);
            gap: 1px;
            
            /* --- ìˆ˜ì •ëœ ë¶€ë¶„ ì‹œì‘ --- */
            width: 100%;
            /* ë„ˆë¹„ ì œí•œ ë¡œì§:
               1. ê¸°ë³¸ì ìœ¼ë¡œ ìµœëŒ€ 500pxê¹Œì§€ ì»¤ì§
               2. ë‹¨, í™”ë©´ ë†’ì´(vh)ì˜ 55%ë¥¼ ë„˜ì§€ ì•Šë„ë¡ ì œí•œ (min í•¨ìˆ˜ ì‚¬ìš©)
               3. aspect-ratioê°€ 1/1ì´ë¯€ë¡œ, ë„ˆë¹„ê°€ ì œí•œë˜ë©´ ë†’ì´ë„ ìë™ìœ¼ë¡œ ì œí•œë˜ì–´ ì •ì‚¬ê°í˜• ìœ ì§€
            */
            max-width: min(500px, 55vh);
            aspect-ratio: 1/1; 
            margin: 0 auto; /* ì¤‘ì•™ ì •ë ¬ ì•ˆì „ì¥ì¹˜ */
            /* --- ìˆ˜ì •ëœ ë¶€ë¶„ ë --- */

            background-color: #f3f4f6;
            padding: 2px;
            border: 2px solid #e5e7eb;
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ í¬ê¸° ê³„ì‚° */
        }

        .cell {
            width: 100%;
            height: 100%;
            background-color: white;
            transition: all 0.3s ease;
        }

        .cell.black { background-color: #000; }
        .cell.white { background-color: #fff; }
        
        /* êµ¬ì¡°ë³„ í•˜ì´ë¼ì´íŠ¸ ìƒ‰ìƒ */
        .cell.finder { background-color: #ef4444; } /* ë¹¨ê°•: ìœ„ì¹˜ ê²€ì¶œ */
        .cell.timing { background-color: #3b82f6; } /* íŒŒë‘: íƒ€ì´ë° */
        .cell.format { background-color: #f59e0b; } /* ì£¼í™©: í¬ë§· ì •ë³´ */
        .cell.data { background-color: #10b981; }    /* ì´ˆë¡: ë°ì´í„° */
        .cell.data.masked { background-color: #059669; } /* ì§„í•œ ì´ˆë¡: ë§ˆìŠ¤í‚¹ ëœ ë°ì´í„° */

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes popIn {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }
        .animate-pop {
            animation: popIn 0.3s ease-out forwards;
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* íŒ¨í„´ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
        .pattern-icon {
            display: inline-grid;
            grid-template-columns: repeat(3, 1fr); /* 3x3 ê·¸ë¦¬ë“œ ì˜ˆì‹œ */
            gap: 1px;
            width: 24px; /* ì „ì²´ ì•„ì´ì½˜ í¬ê¸° */
            height: 24px;
            vertical-align: middle;
            margin-right: 6px;
            border: 1px solid #ddd;
            flex-shrink: 0;
            background-color: #f0f0f0;
        }
        .pattern-icon .dot {
            width: 100%;
            height: 100%;
            background-color: #000;
        }
        .pattern-icon .dot.white {
            background-color: #fff;
        }
        .pattern-icon.timing-pattern .dot:nth-child(odd) { background-color: #3b82f6; } /* íŒŒë‘ */
        .pattern-icon.timing-pattern .dot:nth-child(even) { background-color: #fff; }

        .pattern-icon.finder-pattern {
            grid-template-columns: repeat(7, 1fr);
            grid-template-rows: repeat(7, 1fr);
            width: 30px;
            height: 30px;
        }
        .pattern-icon.finder-pattern .dot { background-color: #ef4444; }
        .pattern-icon.finder-pattern .dot.inner-white { background-color: #fff; }
        .pattern-icon.finder-pattern .dot.center-black { background-color: #ef4444; } /* Finder ì¤‘ì‹¬ */


        /* ë§ˆìŠ¤í‚¹ íŒ¨í„´ ì•„ì´ì½˜ */
        .pattern-icon.masking-pattern {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            width: 28px;
            height: 28px;
        }
        .pattern-icon.masking-pattern .dot:nth-child(even) { background-color: #059669; }
        .pattern-icon.masking-pattern .dot:nth-child(odd) { background-color: #fff; }
        .pattern-icon.masking-pattern .dot:nth-child(4n-2),
        .pattern-icon.masking-pattern .dot:nth-child(4n-3) {
             /* ì§ìˆ˜ í–‰ì—ì„œ ì§ìˆ˜ ì—´, í™€ìˆ˜ í–‰ì—ì„œ í™€ìˆ˜ ì—´ */
        }
        .pattern-icon.masking-pattern .dot:nth-child(1), .pattern-icon.masking-pattern .dot:nth-child(4),
        .pattern-icon.masking-pattern .dot:nth-child(6), .pattern-icon.masking-pattern .dot:nth-child(7),
        .pattern-icon.masking-pattern .dot:nth-child(10), .pattern-icon.masking-pattern .dot:nth-child(11),
        .pattern-icon.masking-pattern .dot:nth-child(13), .pattern-icon.masking-pattern .dot:nth-child(16)
        { background-color: #059669; }

        .pattern-icon.masking-pattern .dot.white-mask { background-color: #fff; }
        .pattern-icon.masking-pattern .dot.black-mask { background-color: #059669; }

    </style>
</head>
<!-- ì „ì²´ ë†’ì´ ê³ ì • ë° ìŠ¤í¬ë¡¤ ë°©ì§€ (ë‚´ë¶€ ìŠ¤í¬ë¡¤ ì‚¬ìš©) -->
<body class="bg-slate-50 text-slate-800 h-screen flex flex-col overflow-hidden">

    <!-- í—¤ë” -->
    <header class="bg-slate-900 text-white p-3 shadow-md flex-shrink-0 z-20">
        <div class="container mx-auto flex justify-between items-center px-2">
            <div>
                <h1 class="text-lg font-bold flex items-center gap-2">
                    <span class="text-2xl">ğŸ”³</span> 
                    <span>QR ì½”ë“œì˜ ì›ë¦¬</span>
                </h1>
                <p class="text-[11px] text-slate-400 ml-9">ì œì‘ : ëª…ì¸ì¤‘í•™êµ ê³¼í•™ ë™ì•„ë¦¬ ë¦¬ì„œì²˜</p>
            </div>
            <span class="text-xs bg-slate-700 px-2 py-1 rounded text-slate-300">Version 1 (21x21)</span>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸ : ì¢Œìš° ë¶„í•  ë ˆì´ì•„ì›ƒ -->
    <main class="flex-grow flex flex-col md:flex-row overflow-hidden relative">
        
        <!-- ì™¼ìª½: ì»¨íŠ¸ë¡¤ íŒ¨ë„ (ì‚¬ì´ë“œë°”) -->
        <aside class="w-full md:w-[350px] lg:w-[400px] bg-white border-r border-slate-200 overflow-y-auto flex-shrink-0 shadow-xl md:shadow-none z-10">
            <div class="p-6 space-y-8">
                
                <!-- 1. í•™ìŠµ ëª¨ë“œ -->
                <div>
                    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 border-b pb-2">Step 1: êµ¬ì¡° ì´í•´í•˜ê¸°</h2>
                    <div class="space-y-3">
                        <button onclick="simStep(0)" class="w-full text-left p-3 rounded-lg hover:bg-slate-100 border border-slate-100 transition flex justify-between items-center group">
                            <span class="text-sm font-medium">1. ì´ˆê¸°í™” (Reset)</span>
                            <span class="text-slate-400 group-hover:text-slate-600">â†º</span>
                        </button>
                        
                        <button onclick="simStep(1)" class="w-full text-left p-3 rounded-lg bg-red-50 hover:bg-red-100 border border-red-100 transition group">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="w-3 h-3 rounded-full bg-red-500"></span>
                                <span class="font-bold text-red-700 text-sm">2. ìœ„ì¹˜ ê²€ì¶œ íŒ¨í„´</span>
                            </div>
                            <p class="text-xs text-red-600/80 pl-5">ì¹´ë©”ë¼ê°€ QRì˜ ìœ„ì¹˜/ë°©í–¥ì„ ì°¾ëŠ” ê¸°ì¤€ì </p>
                        </button>

                        <button onclick="simStep(2)" class="w-full text-left p-3 rounded-lg bg-blue-50 hover:bg-blue-100 border border-blue-100 transition group">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                                <span class="font-bold text-blue-700 text-sm">3. íƒ€ì´ë° íŒ¨í„´</span>
                            </div>
                            <p class="text-xs text-blue-600/80 pl-5">ì¢Œí‘œì™€ í¬ê¸°ë¥¼ ê²°ì •í•˜ëŠ” ê¸°ì¤€ ëˆˆê¸ˆ</p>
                        </button>

                        <button onclick="simStep(3)" class="w-full text-left p-3 rounded-lg bg-green-50 hover:bg-green-100 border border-green-100 transition group">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="w-3 h-3 rounded-full bg-green-500"></span>
                                <span class="font-bold text-green-700 text-sm">4. ë°ì´í„° ì˜ì—­</span>
                            </div>
                            <p class="text-xs text-green-600/80 pl-5">ì‹¤ì œ ì •ë³´ì™€ ì˜¤ë¥˜ ë³µì› ì½”ë“œê°€ ì±„ì›Œì§</p>
                        </button>

                        <button onclick="simStep(4)" class="w-full text-left p-3 rounded-lg bg-purple-50 hover:bg-purple-100 border border-purple-100 transition group">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="w-3 h-3 rounded-full bg-purple-500"></span>
                                <span class="font-bold text-purple-700 text-sm">5. ë§ˆìŠ¤í‚¹ (Masking)</span>
                            </div>
                            <p class="text-xs text-purple-600/80 pl-5">ìŠ¤ìº” ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•œ íŒ¨í„´ ë®ì–´ì“°ê¸°</p>
                        </button>
                    </div>
                </div>

                <!-- 2. ì‹¤ìŠµ ëª¨ë“œ -->
                <div>
                    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 border-b pb-2">Step 2: ì§ì ‘ ë§Œë“¤ê¸°</h2>
                    <div class="flex flex-col gap-3">
                        <label class="text-sm text-slate-600">URLì´ë‚˜ ë©”ì‹œì§€ ì…ë ¥:</label>
                        <input type="text" id="qrInput" placeholder="ì˜ˆ: ì•ˆë…•í•˜ì„¸ìš”" 
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm bg-slate-50"
                            value="https://www.google.com">
                        <button onclick="generateRealQR()" class="w-full bg-slate-800 text-white py-3 rounded-lg hover:bg-slate-700 transition font-medium text-sm shadow-lg">
                            QR ì½”ë“œ ìƒì„±í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ì˜¤ë¥¸ìª½: ì‹œê°í™” ì˜ì—­ (ë©”ì¸ ìŠ¤í…Œì´ì§€) -->
        <section class="flex-1 bg-slate-100 relative flex flex-col items-center justify-center p-4 overflow-y-auto">
            
            <!-- ì„¤ëª… ë°•ìŠ¤ (ìƒë‹¨ ê³ ì • ëŠë‚Œ) -->
            <div id="infoBox" class="w-full max-w-xl mb-6 bg-white border-l-4 border-indigo-500 p-5 rounded-r-lg shadow-sm text-slate-600 transition-all duration-300 min-h-[80px] flex items-center flex-shrink-0">
                <p class="font-bold text-indigo-900 text-sm mb-1 mr-2">ğŸ‘‹ í™˜ì˜í•©ë‹ˆë‹¤!</p>
                <span class="text-sm leading-relaxed">ì™¼ìª½ íŒ¨ë„ì˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ QR ì½”ë“œì˜ ìƒì„± ì›ë¦¬ë¥¼ ë‹¨ê³„ë³„ë¡œ í™•ì¸í•´ë³´ì„¸ìš”.</span>
            </div>

            <!-- ì‹œê°í™” ê·¸ë¦¬ë“œ ì»¨í…Œì´ë„ˆ -->
            <div class="relative w-full flex justify-center items-center flex-col flex-grow min-h-0">
                
                <!-- ì‹œë®¬ë ˆì´ì…˜ ê·¸ë¦¬ë“œ -->
                <div id="gridContainer" class="qr-grid shadow-2xl rounded-lg bg-white">
                    <!-- JSë¡œ ì…€ ìƒì„±ë¨ -->
                </div>

                <!-- ì‹¤ì œ QR ì½”ë“œ (í‰ì†Œì—” ìˆ¨ê¹€) -->
                <div id="realQrContainer" class="hidden flex-col items-center bg-white p-6 rounded-xl shadow-2xl border border-slate-200">
                    <h3 class="font-bold mb-4 text-slate-800 flex items-center gap-2">
                        <span>ğŸ“± ìŠ¤ìº” ê°€ëŠ¥í•œ ì‹¤ì œ ì½”ë“œ</span>
                    </h3>
                    <div id="qrcode" class="border p-2"></div>
                    <p class="text-xs text-slate-400 mt-4 text-center">ìŠ¤ë§ˆíŠ¸í° ì¹´ë©”ë¼ë¡œ ìŠ¤ìº”í•´ë³´ì„¸ìš”.</p>
                </div>
            </div>
            
        </section>
    </main>

    <script>
        // ì „ì—­ ì„¤ì •
        const GRID_SIZE = 21; // Version 1 QR Code
        const gridContainer = document.getElementById('gridContainer');
        const infoBox = document.getElementById('infoBox');
        let gridCells = [];

        // ì´ˆê¸°í™” í•¨ìˆ˜
        function initGrid() {
            gridContainer.innerHTML = '';
            gridCells = [];
            
            for (let y = 0; y < GRID_SIZE; y++) {
                for (let x = 0; x < GRID_SIZE; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.title = `(${x}, ${y})`;
                    gridContainer.appendChild(cell);
                    gridCells.push({ element: cell, x, y, type: 'empty', value: 0 });
                }
            }
        }

        function getCell(x, y) {
            return gridCells[y * GRID_SIZE + x];
        }

        function setCellType(x, y, type, colorClass) {
            const cell = getCell(x, y);
            if (!cell) return;
            cell.type = type;
            cell.element.className = `cell ${colorClass} animate-pop`;
        }

        function drawRect(x, y, w, h, type, colorClass) {
            for (let i = 0; i < h; i++) {
                for (let j = 0; j < w; j++) {
                    setCellType(x + j, y + i, type, colorClass);
                }
            }
        }

        // íŒ¨í„´ ë¡œì§
        function drawFinder(offsetX, offsetY) {
            drawRect(offsetX, offsetY, 7, 7, 'finder', 'black');
            drawRect(offsetX + 1, offsetY + 1, 5, 5, 'finder', 'white');
            drawRect(offsetX + 2, offsetY + 2, 3, 3, 'finder', 'finder'); 
        }

        function drawTiming() {
            for (let i = 8; i < GRID_SIZE - 8; i++) {
                setCellType(i, 6, 'timing', i % 2 === 0 ? 'black' : 'white');
                getCell(i, 6).element.classList.add('timing');
                setCellType(6, i, 'timing', i % 2 === 0 ? 'black' : 'white');
                getCell(6, i).element.classList.add('timing'); 
            }
            setCellType(8, GRID_SIZE - 8, 'format', 'black');
        }

        // ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„
        function simStep(step) {
            document.getElementById('realQrContainer').classList.add('hidden');
            gridContainer.classList.remove('hidden');

            initGrid();
            if (step === 0) {
                updateInfo("ì´ˆê¸°í™” (Reset)", "21x21 í¬ê¸°ì˜ ë¹ˆ ê²©ì(QR Version 1)ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.", "text-slate-600", "border-slate-400");
                return;
            }

            drawFinder(0, 0); 
            drawFinder(GRID_SIZE - 7, 0); 
            drawFinder(0, GRID_SIZE - 7); 
            
            if (step === 1) {
                const icon = `<div class="pattern-icon finder-pattern">
                                ${Array(49).fill().map((_, i) => {
                                    const r = Math.floor(i / 7);
                                    const c = i % 7;
                                    if ((r >= 1 && r <= 5) && (c >= 1 && c <= 5)) { // Inner white
                                        if ((r >= 2 && r <= 4) && (c >= 2 && c <= 4)) { // Center black
                                            return `<div class="dot center-black"></div>`;
                                        }
                                        return `<div class="dot inner-white"></div>`;
                                    }
                                    return `<div class="dot"></div>`;
                                }).join('')}
                              </div>`;
                updateInfo("1. ìœ„ì¹˜ ê²€ì¶œ íŒ¨í„´ (Finder)", icon + "ì„¸ ëª¨ì„œë¦¬ì˜ í° ì‚¬ê°í˜•ì€ ì¹´ë©”ë¼ê°€ QR ì½”ë“œì˜ ìœ„ì¹˜ì™€ íšŒì „ ë°©í–¥ì„ 0.1ì´ˆ ë§Œì— ì°¾ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•µì‹¬ ë‹»(Anchor)ì…ë‹ˆë‹¤.", "text-red-700", "border-red-500");
                return;
            }

            drawTiming();
            if (step === 2) {
                const icon = `<div class="pattern-icon timing-pattern">
                                ${Array(9).fill().map((_, i) => `<div class="dot ${i % 2 === 0 ? 'black' : 'white'}"></div>`).join('')}
                              </div>`;
                updateInfo("2. íƒ€ì´ë° íŒ¨í„´ (Timing)", icon + "í‘ë°±ì´ êµì°¨í•˜ëŠ” ì ì„ ì€ ëª¨ëˆˆì¢…ì´ì˜ ëˆˆê¸ˆ ì—­í• ì„ í•©ë‹ˆë‹¤. QR ì½”ë“œê°€ êµ¬ê²¨ì§€ê±°ë‚˜ ì™œê³¡ë˜ì–´ë„ ì´ ëˆˆê¸ˆì„ ê¸°ì¤€ìœ¼ë¡œ ê° ì…€ì˜ ì •í™•í•œ ì¢Œí‘œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.", "text-blue-700", "border-blue-500");
                return;
            }

            // Data Fill
            let dataCount = 0;
            for (let x = GRID_SIZE - 1; x >= 0; x -= 2) { 
                if (x === 6) x--; 
                for (let y = 0; y < GRID_SIZE; y++) {
                    let checkX = x;
                    let checkY = y;
                    let cell1 = getCell(checkX, checkY);
                    if (cell1.type === 'empty') {
                        const val = Math.random() > 0.5 ? 1 : 0;
                        cell1.value = val;
                        setCellType(checkX, checkY, 'data', val ? 'data' : 'white'); 
                    }
                    let cell2 = getCell(checkX - 1, checkY);
                    if (cell2 && cell2.type === 'empty') {
                        const val = Math.random() > 0.5 ? 1 : 0;
                        cell2.value = val;
                        setCellType(checkX - 1, checkY, 'data', val ? 'data' : 'white');
                    }
                }
            }

            if (step === 3) {
                const icon = `<div class="pattern-icon" style="grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); width: 26px; height: 26px;">
                                <div class="dot black"></div><div class="dot white"></div><div class="dot black"></div>
                                <div class="dot white"></div><div class="dot black"></div><div class="dot white"></div>
                                <div class="dot black"></div><div class="dot white"></div><div class="dot black"></div>
                            </div>`;
                updateInfo("3. ë°ì´í„° ì˜ì—­ ì±„ìš°ê¸°", icon + "ë‚˜ë¨¸ì§€ ê³µê°„ì— ë°ì´í„°ë¥¼ 2ì—´ì”© ì§€ê·¸ì¬ê·¸ë¡œ ì±„ì›ë‹ˆë‹¤. <br>ì´ë•Œ ì •ë³´ë¿ë§Œ ì•„ë‹ˆë¼ QR ì½”ë“œê°€ 30% ì†ìƒë˜ì–´ë„ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” 'ì˜¤ë¥˜ ë³µì› ì½”ë“œ(Reed-Solomon)'ë„ í•¨ê»˜ í¬í•¨ë©ë‹ˆë‹¤.", "text-green-700", "border-green-500");
                return;
            }

            if (step === 4) {
                let maskCount = 0;
                for (let y = 0; y < GRID_SIZE; y++) {
                    for (let x = 0; x < GRID_SIZE; x++) {
                        const cell = getCell(x, y);
                        if (cell.type === 'data') {
                            if ((x + y) % 2 === 0) { // ì˜ˆì‹œ ë§ˆìŠ¤í‚¹ íŒ¨í„´: ì²´ìŠ¤íŒ
                                cell.value = !cell.value;
                                const colorClass = cell.value ? 'masked' : 'white'; 
                                cell.element.className = `cell ${cell.type} ${colorClass}`;
                                maskCount++;
                            }
                        }
                    }
                }

                // ë§ˆìŠ¤í‚¹ íŒ¨í„´ ì•„ì´ì½˜ (4x4 ì²´ìŠ¤íŒ ì˜ˆì‹œ)
                const icon = `<div class="pattern-icon masking-pattern">
                                ${Array(16).fill().map((_, i) => {
                                    const row = Math.floor(i / 4);
                                    const col = i % 4;
                                    // (row + col) % 2 === 0 ì´ ë§ˆìŠ¤í‚¹ ì¡°ê±´ì´ë¼ê³  ê°€ì • (ì´ì „ ë¡œì§ê³¼ ë™ì¼)
                                    // í•˜ì§€ë§Œ ì•„ì´ì½˜ì€ ë§ˆìŠ¤í‚¹ 'ì ìš© í›„' ìƒ‰ìƒì„ ë³´ì—¬ì£¼ë¯€ë¡œ ì›ë˜ ë°ì´í„°ê°€ í°ìƒ‰/ê²€ì€ìƒ‰ì¼ ë•Œ ì–´ë–»ê²Œ ë°”ë€ŒëŠ”ì§€ ì‹œë®¬ë ˆì´ì…˜í•´ì•¼í•¨.
                                    // ì—¬ê¸°ì„œëŠ” ê·¸ëƒ¥ ê²€ì€ìƒ‰/í•˜ì–€ìƒ‰ì„ ì²´ìŠ¤íŒìœ¼ë¡œ ë³´ì—¬ì¤Œ.
                                    return `<div class="dot ${ (row + col) % 2 === 0 ? 'black-mask' : 'white-mask' }"></div>`;
                                }).join('')}
                              </div>`;

                updateInfo("4. ë§ˆìŠ¤í‚¹ (Masking)", icon + "ë°ì´í„°ê°€ ë„ˆë¬´ ë‹¨ìˆœí•˜ê±°ë‚˜(ëª¨ë‘ í°ìƒ‰ ë“±) íŒ¨í„´ì´ ë­‰ì¹˜ë©´ ìŠ¤ìºë„ˆê°€ ì¸ì‹í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. <br>ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ íŠ¹ì • ê·œì¹™(ì˜ˆ: ì²´ìŠ¤íŒ ë¬´ëŠ¬)ìœ¼ë¡œ ìƒ‰ìƒì„ ë°˜ì „ì‹œì¼œ ê· í˜•ì„ ë§ì¶¥ë‹ˆë‹¤.", "text-purple-700", "border-purple-500");
            }
        }

        // ì„¤ëª…ì°½ ì—…ë°ì´íŠ¸ í—¬í¼
        function updateInfo(title, desc, textColor, borderColor) {
            infoBox.className = `w-full max-w-xl mb-6 bg-white border-l-4 ${borderColor} p-5 rounded-r-lg shadow-sm text-slate-600 transition-all duration-300 min-h-[80px] flex items-center flex-shrink-0`;
            infoBox.innerHTML = `<p class="font-bold ${textColor} text-sm mb-1 mr-2">${title}</p><span class="text-sm leading-relaxed">${desc}</span>`;
        }

        function generateRealQR() {
            const input = document.getElementById('qrInput').value;
            const container = document.getElementById('qrcode');
            const realContainer = document.getElementById('realQrContainer');
            const simContainer = document.getElementById('gridContainer');

            if (!input) return alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');

            simContainer.classList.add('hidden');
            realContainer.classList.remove('hidden');
            realContainer.classList.add('flex');
            
            container.innerHTML = ''; 

            new QRCode(container, {
                text: input,
                width: 180,
                height: 180,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });

            updateInfo("ìƒì„± ì™„ë£Œ", `"${input}" ë‚´ìš©ì„ ë‹´ì€ ì‹¤ì œ QR ì½”ë“œì…ë‹ˆë‹¤. <br>ìŠ¤ë§ˆíŠ¸í° ì¹´ë©”ë¼ë¡œ ìŠ¤ìº”í•˜ì—¬ ë‚´ìš©ì´ ì •í™•í•œì§€ í™•ì¸í•´ë³´ì„¸ìš”.`, "text-slate-800", "border-slate-800");
        }

        initGrid();
    </script>
</body>
</html>
